stages:
  #  - test
  - build
#  - deploy

#code_quality:
#  image: node:16.12.0
#  stage: test
#  before_script:
#    - npm ci
#  script:
#    - npm run eslint
#    - npm run stylelint
#    - npm run  prettier-check
#  only:
#    - main

build:
  image: node:16.12.0
  stage: build
  before_script:
    - npm install
  script:
    - npm run build
    - cp -r dist public
  artifacts:
    paths:
      - public
  only:
    - main
#deploy:
#  image: alpine.latest
#  stage: deploy
#  before_script:
#    - apk update && apk add rsync
#  script:
#    - rsync -a --delete dist/ roman@ #ip
#  only:
#    - main
